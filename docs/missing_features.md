# 現在のHonoXリポジトリで欠けている機能（前のNext.jsバージョンとの比較）

## 概要
前のリポジトリ（`./mdblog`）はNext.jsベースのブログシステムでPostgreSQLをデータ管理に使用しています。一方、現在のリポジトリはHonoXでSSR/SSGを構築しています。以下は、前のバージョンで存在するが現在のHonoX実装で欠けているか未完成の主要機能です。

## データベース統合
- **PostgreSQLデータベース**: like機能ではPostgreSQLを使用しますが、記事自体は別のGitリポジトリから取得することを想定しています。前のバージョンではPostgreSQLで記事を構造化データ（id、title、genre、publishedステータス、contentなど）で保存していましたが、現在のバージョンは`dummy-posts/`内の静的Markdownファイルに依存しています。
- **テーブル**: `mdblog.likes`（post_id, user_ip, user_agent）を使用。記事データはGitリポジトリから取得。
- **データベース設定**: PostgreSQLのDockerセットアップと初期化スクリプトを含みます。

## APIエンドポイント
- **/api/posts**: ジャンルフィルタリングと未公開記事管理によるページネーション記事取得を処理。
- **/api/likes**: GETでいいね数を取得、POSTでいいねを記録（IP/ユーザーエージェント追跡付き）。
- **/api/ogp**: ソーシャルメディア共有用のOpen Graph Protocol画像を生成。

## ユーザーインタラクション機能
- **いいねボタン**: API統合で記事ごとのいいねを記録・表示するインタラクティブコンポーネント。
- **シェアボタン**: Twitter、はてぶ（Hatena Bookmark）、GitHubリンクボタン。
- **コピーボタン**: ユーザーが記事コンテンツやURLをコピーできる機能。

## ページ機能
- **ページネーション**: 一旦採用しません。記事の数が多くないため、トップページでは一度に全ての記事を取得します。
- **ジャンル/カテゴリーページ**: `/genre/[name]`で完全実装されたジャンルフィルタリング。
- **記事ナビゲーション**: 前の/次の記事リンク。
- **記事ローダー**: 記事コンテンツのローディングスピナー/UI。

## Markdown処理
- **リッチレンダリング**: `react-markdown`、`react-syntax-highlighter`、`rehype-raw`を使って強化されたレンダリング。
- **カスタム変換**: コードブロック、イメージ変換、リンク処理。
- **シンタックスハイライト**: 統合されたコードシンタックスハイライト。

## UI/UXコンポーネント
- **レスポンシブサイドバー**: `useResponsiveSidebar.ts`を使った高度なレスポンシブ動作。
- **テーマプロバイダー**: `next-themes`を使ったテーマ管理。
- **記事サマリー**: フルコンテンツと共に記事サマリーを表示。
- **ボーダーとスピナーコンポーネント**: レイアウトとローディング状態のための追加UI要素。
- **タイトルコンポーネント**: 特殊化されたタイトルレンダリング。

## デプロイメントとインフラストラクチャ
- **OGPサポート**: ソーシャルメディア（Twitterでテスト済み）のための動的画像生成。
- **Vercel + Supabase**: ホスティングとDBaaS統合。
- **環境管理**: 環境変数による未公開記事のサポート。

## 設定とツール
- **DaisyUI**: スタイリングのための追加UIコンポーネントライブラリ。
- **Biome**: コードフォーマットとリンター。
- **PostCSS**: CSS処理設定。

## 実装の推奨事項
1. like機能のためにPostgreSQLを統合（記事は別のGitリポジトリから取得）。
2. いいねとOGPのためのHonoXでAPIルートを追加。
3. トップページで全ての記事を取得するシンプルな一覧を実装（ページネーションなし）。
4. シンタックスハイライトとカスタム変換でMarkdownレンダリングを強化。
5. HonoXアイランドを使ってインタラクティブコンポーネントを追加。
6. フルサイドバーのレスポンシブ性とテーマプロバイダーを実装。</content>
<parameter name="filePath">docs/missing_features.md